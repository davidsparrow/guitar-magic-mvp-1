FEATURE_SPECIFICATIONS

# ðŸŽ¯ Feature Specifications

## ðŸ”„ Video Flipping Controls
### Free Tier âœ…
- **Vertical Flip**: CSS `transform: rotateX(180deg)`
- **Horizontal Flip**: CSS `transform: rotateY(180deg)`
- **Both**: Combined transforms
- **Implementation**: Applied to YouTube iframe container

## ðŸ” Custom Loop Timeline
### Premium Only ðŸ’Ž
- **Timeline UI**: Draggable start/stop markers
- **Precision**: Sub-second accuracy (0.1s increments)
- **Loop Logic**: Monitor currentTime vs bounds
- **Auto-seek**: Jump to start when reaching end
- **Persistence**: Save/load custom loops per user

## ðŸ” Search & Discovery
### Free Tier
- **Daily Limit**: 20 searches per day
- **History**: Last 5 searches saved
- **Results**: YouTube Data API v3 integration

### Premium Tier
- **Unlimited**: No daily search limits
- **Full History**: All searches saved indefinitely
- **Advanced Filters**: Duration, quality, upload date

## ðŸ” User Management
- **Authentication**: Supabase Auth (email + OAuth)
- **Profiles**: Extended user data in user_profiles table
- **Feature Gates**: Dynamic system for premium features
- **Usage Tracking**: Analytics and limit enforcement

## ðŸ“ Caption Management System
### Premium Only ðŸ’Ž
- **Text Captions**: Timeline-based text annotations with start/stop times
- **Chords Captions**: Chord diagram integration (planned)
- **Auto-Gen**: AI-generated content (planned)
- **Sharing**: Share captions between paid users
- **Inline Editing**: Edit captions directly in control strips
- **Modal Editor**: Advanced caption management interface

## ðŸŽ¸ Creator Revenue Sharing System
### Platform Feature ðŸŒŸ
- **Per-Channel Watch Time Tracking**: Monitor user engagement by YouTube channel
- **Top 100 Creators**: Monthly leaderboard by watch time
- **10% Revenue Sharing**: Transparent payout system
- **Public Leaderboard**: Community transparency and engagement
- **Monthly Payouts**: Automated creator compensation
- **Channel Analytics**: Detailed performance metrics

---

# ðŸš€ DEVELOPMENT ROADMAP: From MVP to Music Empire

## ðŸŽ¯ MVP Features (3-4 weeks)

### **1. Enhanced Video Controls** â­ PRIORITY 1
- **Auto-unflip during ads** (ad detection)
- **Estimate**: 2-3 days
- **Complexity**: Medium (YouTube Player API events)
- **API**: YouTube Player iframe API

### **2. Session State & Resume** â­ PRIORITY 1  
- **Save exact timeline position + loop settings**
- **Resume where user left off**
- **Estimate**: 1-2 days
- **Complexity**: Low (database + localStorage)

### **3. Usage Tracking & Limits** â­ PRIORITY 1
- **Track video watch time, search usage**
- **Enforce tier limits (searches/day, watch minutes)**  
- **Estimate**: 2-3 days
- **Complexity**: Medium (database functions + UI enforcement)

### **4. Legal Foundation** âœ… COMPLETED
- **Privacy Policy, Terms of Service, Pricing pages**
- **Menu integration and navigation**
- **Estimate**: 1 day
- **Complexity**: Low

### **5. UI/UX Enhancement** â­ PRIORITY 2
- **Home page redesign with floating modals**
- **"How It Works", "Features", "Getting Started" modals**
- **Estimate**: 2-3 days
- **Complexity**: Medium (responsive design + animations)

### **6. Top Banner System** âœ… COMPLETED
- **Admin-controlled announcement banner**
- **Estimate**: 0.5 days  
- **Complexity**: Low (already designed)

### **7. Pricing Tiers Admin** â­ PRIORITY 2
- **Complete admin interface for pricing management**
- **Estimate**: 1 day
- **Complexity**: Low (UI + database already designed)

### **8. Top 100 Creators Tracking** â­ MVP ADDITION
- **Monthly creator leaderboard by watch time**
- **10% revenue sharing transparency**
- **Public leaderboard page**
- **Estimate**: 3-4 days
- **Complexity**: Medium (aggregation + public page)

### **9. Caption Management Integration** â­ NEW PRIORITY
- **Supabase integration for captions**
- **User caption storage and retrieval**
- **Inline editing in control strips**
- **Estimate**: 2-3 days
- **Complexity**: Medium (database integration + UI updates)

### **10. Watch Time Tracking System** â­ NEW PRIORITY
- **Per-channel watch time monitoring**
- **User engagement analytics**
- **Creator revenue calculation foundation**
- **Estimate**: 2-3 days
- **Complexity**: Medium (tracking logic + database updates)

## ðŸŽµ Phase 2: Music Magic (4-5 weeks)

### **11. Custom Caption Creator** â­ GAME-CHANGER
- **Timeline-based text annotations**
- **120-char text strings with start/stop times**
- **No overlap validation, edit existing segments**
- **Estimate**: 4-5 days
- **Complexity**: Medium-High (timeline UI + sync logic)

### **12. Basic Chord Diagrams** â­ GAME-CHANGER
- **Manual chord name entry â†’ visual diagrams**
- **Integration with custom captions**
- **Sync with video timeline**
- **Estimate**: 3-4 days  
- **Complexity**: Medium 
- **APIs**: VexChords, ChordJS, or UberChord API
- **API URL**: `https://api.uberchord.com/v1/chords/{chordName}`

### **13. Song Name Detection** â­ ENHANCEMENT
- **Parse YouTube titles for artist/song**
- **Smart title cleaning algorithms**
- **Auto-populate song search fields**
- **Estimate**: 2-3 days
- **Complexity**: Medium (text parsing + validation)

### **14. Enhanced Search Features** â­ PREMIUM
- **Advanced video filters and sorting**
- **Saved search collections**
- **Search history analytics**
- **Estimate**: 2-3 days
- **Complexity**: Medium

### **15. Caption Sharing System** â­ NEW FEATURE
- **Share captions between paid users**
- **Sharing links with expiration and usage limits**
- **Import captions from shared favorites**
- **Estimate**: 3-4 days
- **Complexity**: Medium (sharing logic + UI)

### **16. Creator Analytics Dashboard** â­ NEW FEATURE
- **Channel performance metrics**
- **Watch time analytics**
- **Revenue projection tools**
- **Estimate**: 4-5 days
- **Complexity**: Medium-High (analytics + visualization)

## ðŸ† Phase 3: Ultimate Platform (6-8 weeks)

### **17. Ultimate Guitar Integration** â­ HOLY GRAIL
- **Demand-driven song scraping** (only when users request specific songs)
- **Smart accuracy validation** (video length, key consistency, cover detection)
- **User request form** for premium members to submit video URLs
- **Quality scoring system** to ensure caption accuracy
- **Estimate**: 7-10 days
- **Complexity**: High (scraper integration + validation logic)
- **APIs**: Ultimate Guitar scraper endpoints
- **GitHub**: `https://github.com/Pilfer/ultimate-guitar-scraper`

### **18. Auto-Synchronized Chords** â­ REVOLUTIONARY
- **User-requested chord timelines** from UG database
- **Song structure detection** (verse, chorus, bridge) with timing
- **Pre-timed chord changes** that sync with video playback
- **Fallback handling** for videos that don't match scraped data
- **Estimate**: 5-7 days
- **Complexity**: High (data parsing + timeline sync + validation)

### **19. Advanced Practice Features** â­ PREMIUM
- **Loop sections with chord displays**
- **Slow-down playback with synchronized chords**
- **Export practice sessions**
- **Practice mode with metronome**
- **Estimate**: 3-4 days
- **Complexity**: Medium (YouTube Player API + UI)

### **20. Creator Revenue Dashboard** â­ BUSINESS
- **Creator portal for earnings tracking**
- **Payment history and analytics**
- **Creator onboarding and verification**
- **Estimate**: 4-5 days
- **Complexity**: Medium-High

### **21. Advanced Caption Features** â­ NEW FEATURE
- **Caption templates and presets**
- **Bulk caption operations**
- **Caption versioning and history**
- **Estimate**: 3-4 days
- **Complexity**: Medium

## ðŸš€ Phase 4: Platform Scale (8+ weeks)

### **22. Advanced Tab Features** â­ ENTERPRISE
- **Full guitar tablature display**
- **Bass tabs, multiple instruments**
- **GuitarPro-style playback with timing**
- **Interactive tab following**
- **Estimate**: 10-15 days
- **Complexity**: Very High (complex rendering + sync)

### **23. User-Generated Content** â­ COMMUNITY
- **Share custom caption/chord sets**
- **Community-contributed timings**
- **Rating and review system**
- **Content moderation tools**
- **Estimate**: 8-12 days
- **Complexity**: High (moderation + social features)

### **24. Mobile Application** â­ EXPANSION
- **React Native app with core features**
- **Offline chord charts and saved content**
- **Mobile-optimized video controls**
- **Estimate**: 15-20 days
- **Complexity**: Very High

### **25. Video Hosting Platform** â­ FUTURE VISION
- **Creator direct uploads**
- **Multi-platform video hosting**
- **Advanced monetization tools**
- **Estimate**: 20-30 days
- **Complexity**: Extremely High
- **APIs**: Cloudflare Stream, Vimeo API, Wistia
- **API URLs**: 
  - Vimeo: `https://api.vimeo.com`
  - Wistia: `https://wistia.com/support/developers`
  - Cloudflare: `https://api.cloudflare.com/client/v4/accounts/{account_id}/stream`

### **26. Creator Economy Platform** â­ NEW VISION
- **Advanced revenue sharing models**
- **Creator marketplace for lessons**
- **Subscription-based creator channels**
- **Estimate**: 15-20 days
- **Complexity**: Very High

## ðŸ”Œ API Integration Summary

### **Core Video APIs**
- **YouTube Data API v3**: `https://googleapis.com/youtube/v3/`
- **YouTube Player API**: `https://www.youtube.com/iframe_api`

### **Music & Chord APIs**
- **UberChord API**: `https://api.uberchord.com/v1/`
- **Ultimate Guitar Scraper**: Various GitHub implementations
- **VexChords**: JavaScript library (client-side)
- **ChordJS**: JavaScript library (client-side)

### **Business & Analytics APIs**
- **Stripe Payments**: `https://api.stripe.com/v1/`
- **Supabase**: Self-hosted database and auth

### **Future Video Hosting APIs**
- **Vimeo API**: `https://api.vimeo.com`
- **Wistia API**: `https://wistia.com/support/developers`
- **Cloudflare Stream**: `https://api.cloudflare.com/client/v4/`

## ðŸ—„ï¸ Database Schema Overview

### **Core Tables**
- **`user_profiles`**: User authentication and subscription data
- **`subscriptions`**: Stripe subscription management
- **`favorites`**: User-saved videos with sharing capabilities
- **`captions`**: User-created captions with sharing support
- **`custom_loops`**: User-created video loops

### **Creator Revenue System**
- **`channel_watch_time`**: Per-channel watch time tracking
- **`creator_payouts`**: Monthly creator compensation
- **`public_leaderboard`**: Transparent creator rankings

### **Sharing & Collaboration**
- **`sharing_links`**: Advanced sharing with expiration and limits
- **`saved_searches`**: User search history and preferences

### **Analytics & Usage**
- **`user_usage`**: Daily user activity tracking
- **`billing_history`**: Payment and subscription history
- **`feature_gates`**: Dynamic feature access control

## ðŸ“Š Success Metrics by Phase

### **MVP Success (Month 1)**
- 1,000+ registered users
- 100+ daily active users
- Basic revenue from subscriptions
- Creator leaderboard engagement
- Caption system adoption

### **Phase 2 Success (Month 3)**
- 10,000+ registered users
- 1,000+ daily active users
- Custom caption usage > 50%
- Chord diagram feature adoption
- Creator revenue sharing active

### **Phase 3 Success (Month 6)**
- 50,000+ registered users
- 5,000+ daily active users
- Ultimate Guitar integration driving growth
- Creator revenue sharing program active
- Advanced caption collaboration

### **Phase 4 Success (Year 1)**
- 500,000+ registered users
- Platform-hosted content library
- Industry recognition as music learning leader
- Sustainable creator economy
- Global caption sharing community

## ðŸŽ¯ Estimated Total Timeline
- **MVP Launch**: 4 weeks
- **Music Platform**: 3 months
- **Industry Leader**: 6 months
- **Platform Dominance**: 12 months

## ðŸ†• Recent Additions & Enhancements

### **âœ… Completed Database Infrastructure**
- **Creator Revenue Sharing System**: Complete database schema for tracking per-channel watch time and monthly payouts
- **Caption Management System**: Full database support for user captions with sharing capabilities
- **Advanced Sharing Features**: Database support for expiration-based sharing links with usage tracking
- **Enterprise Security**: Row Level Security (RLS) policies for all new tables

### **ðŸ”„ In Progress**
- **Frontend Supabase Integration**: Connecting watch.js to new database tables
- **Caption CRUD Operations**: Implementing create, read, update, delete for captions
- **Watch Time Tracking**: Implementing per-channel watch time monitoring

### **ðŸ“‹ Planned Enhancements**
- **Real-time Caption Updates**: Supabase real-time subscriptions for live collaboration
- **Caption Analytics**: Track caption usage, sharing, and community engagement
- **Advanced Creator Tools**: Enhanced analytics and payout management for creators
- **Community Features**: Caption rating, commenting, and community moderation